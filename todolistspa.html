
<html>
<header>
	<h1> To Do List!!!!</h1>
	<link rel="stylesheet" href="todolistspa.css" type="css">
</header>

<body>


<section class="A">
<ul id="box">
	</ul>
</section>
<section class="B">
	
	
	<input type="text" id="textbox">
	
		<select id="level">
    	<option>High</option>
    	<option>Medium</option>
    	<option>Low</option>
		</select>
	<button onclick="add()"> New </button>
</section>

<!--For some reason the script src tag would only work for the src professor gave us, and not for the actual script that i typed-->

<script type="text/javascript" src="todolistspa.js"></script>
<script type="text/javascript">
	done = function() {
	if (this.checked){
	this.parentNode.classList.add("done");
	}else {
		this.parentNode.classList.remove("done");
		}
	localSave()
}
add= function() {
	var newli;
	text = document.querySelector("#textbox");
	ul = document.querySelector("#box");
	level= document.querySelector("#level").value;
	word = text.value;
	li = document.createElement('li');
	li.className = level;
	input= document.createElement("input");
	input.type = 'checkbox';
	input.onclick = done;	
	li.appendChild(input);
	task= document.createTextNode(word);
	li.appendChild(task);
	ul.appendChild(li);
	localSave ()
	
	
	
}
	localSave = function() {
		var res = []
		var text;
		entries = document.querySelectorAll('li')
		for(text=0; text < entries.length; text++) {
			if (! entries[i].classList.contains("done")) {
			res.push(entries[i].innerText);
			}
		}
	
		localStorage.setItem("todoDatabase",JSON.stringify(res))
	}
	restore = function () {
		entries = JSON.parse(localStorage.getItem('todoDatabase'))
		for (text=0; text < entries.length; text++){
		
		ul = document.querySelector("#box");
		li = document.createElement('li');
		input= document.createElement("input");
		input.type = 'checkbox';
		input.onclick = done;	
		li.appendChild(input);
		task= document.createTextNode(entries[text]);
		li.appendChild(word);
		ul.appendChild(li);
		}
		
	}

window.onload= restore;
</script>

</body>
</html>
